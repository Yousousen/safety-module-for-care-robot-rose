import Controller.dzn;
import LEDControl.dzn;
import AccelerationCheck.dzn;
import AngularAccelerationCheck.dzn;
import GripArmPositionCheck.dzn;
import GripArmStrengthCheck.dzn;
import BaseCaseCheck.dzn;

component System {
	provides IController iController;
	requires ILEDControl iLEDControl;
	requires IAccelerationSensor iAccelerationSensor;
	requires IAngularAccelerationSensor iAngularAccelerationSensor;
	requires IGripArmPositionSensor iGripArmPositionSensor;
	requires IGripArmStrengthSensor iGripArmStrengthSensor;
	
	system {
		Controller controller;
		AccelerationCheck accelerationCheck;
		AngularAccelerationCheck angularAccelerationCheck;
		GripArmPositionCheck gripArmPositionCheck;
		GripArmStrengthCheck gripArmStrengthCheck;
		BaseCaseCheck baseCaseCheck;
		
		iController <=> controller.iController;
		iLEDControl <=> controller.iLEDControl;

		iAccelerationSensor <=> accelerationCheck.iAccelerationSensor;
		iAngularAccelerationSensor <=> angularAccelerationCheck.iAngularAccelerationSensor;
		iGripArmPositionSensor <=> gripArmPositionCheck.iGripArmPositionSensor;
		iGripArmStrengthSensor <=> gripArmStrengthCheck.iGripArmStrengthSensor;
 
		controller.iNext <=> accelerationCheck.iAccelerationCheck;
        accelerationCheck.iNext <=> angularAccelerationCheck.iAngularAccelerationCheck;
		angularAccelerationCheck.iNext <=> gripArmPositionCheck.iGripArmPositionCheck;
		gripArmPositionCheck.iNext <=> gripArmStrengthCheck.iGripArmStrengthCheck;
		gripArmStrengthCheck.iNext <=> baseCaseCheck.iRoot;
	}
}